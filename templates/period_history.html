{% extends "base.html" %}
{% block content %}

<h2>üìú Period History</h2>

<div class="period-container">
    <div class="period-card">

        {% if history %}
        <ul>
            {% for rec in history %}
            <li>
                <div class="record-info">
                    <strong>Date:</strong> {{ rec["last_period_date"] }} <br>
                    <strong>Cycle Length:</strong> {{ rec["cycle_length"] }} days <br>
                    <strong>Duration:</strong> {{ rec["period_duration"] }} days <br>
                    <strong>Notes:</strong> {{ rec["symptoms"] or "‚Äî" }}
                </div>

                <div class="actions">
                    <a href="/period/edit/{{ rec['id'] }}" class="edit-btn">‚úèÔ∏è Edit</a>

                    <form action="/period/delete/{{ rec['id'] }}" method="POST" class="delete-form">
                        <button type="submit"
                                class="delete-btn"
                                onclick="return confirm('Are you sure you want to delete this record?');">
                            üóë Delete
                        </button>
                    </form>
                </div>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No period history available.</p>
        {% endif %}

        <a href="/period" class="period-btn">‚¨Ö Back</a>
    </div>
</div>

<style>
.period-container {
    display: flex;
    justify-content: center;
    margin-top: 30px;
    padding: 0 10px;
}

.period-card {
    flex: 1 1 650px;
    background: #fff5f8;
    padding: 20px;
    border-radius: 14px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    transition: none; /* ‚úÖ Removed moving effect */
}

.period-btn {
    display: inline-block;
    margin-top: 18px;
    padding: 10px 22px;
    background: linear-gradient(135deg,#6c5ce7,#a29bfe);
    color: white;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.25s ease;
    box-shadow: 0 6px 14px rgba(0,0,0,0.15);
}
.period-btn:hover { opacity: 0.95; transform: translateY(-2px); box-shadow:0 8px 18px rgba(0,0,0,0.2); }

ul { list-style: none; padding: 0; }
li {
    background: white;
    margin-bottom: 12px;
    padding: 14px;
    border-radius: 10px;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    transition: all 0.25s ease;
}
li:hover { transform: translateY(-2px); box-shadow:0 6px 14px rgba(0,0,0,0.12); }

.record-info { font-size: 14px; line-height: 1.6; }

.actions { display: flex; gap: 8px; }

.edit-btn {
    background: #6c5ce7;
    color: white;
    padding: 6px 12px;
    border-radius: 6px;
    text-decoration: none;
    font-size: 13px;
    transition: all 0.25s ease;
}
.edit-btn:hover { opacity: 0.85; transform: translateY(-1px); }

.delete-btn {
    background: #d63031;
    color: white;
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.25s ease;
}
.delete-btn:hover { opacity: 0.85; transform: translateY(-1px); }

.delete-form { display: inline; }
</style>

{% endblock %}
