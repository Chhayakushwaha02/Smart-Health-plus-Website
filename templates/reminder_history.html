{% extends "base.html" %}

{% block content %}
<div style="max-width: 700px; margin: 30px auto; padding: 25px; background:#ffffff;
            border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.1);
            font-family: Arial, sans-serif;">

    <h2 style="text-align:center; color:#333;">ğŸ“œ Reminder History</h2>

    {% if reminders %}
        {% set current_group = None %}
        <table style="width:100%; border-collapse:collapse; margin-top:20px;">
            <thead>
                <tr style="background:#f1f3f5;">
                    <th style="padding:10px; text-align:left;">Type</th>
                    <th style="padding:10px; text-align:left;">Time</th>
                    <th style="padding:10px; text-align:center;">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for r in reminders %}
                    {% set current_date = r.reminder_date %}

                    {% if current_date != current_group %}
                        <tr>
                            <td colspan="3" style="padding:8px; background:#e9ecef; font-weight:bold;">
                                {{ current_date.strftime('%Y-%m-%d') }}
                            </td>
                        </tr>
                        {% set current_group = current_date %}
                    {% endif %}

                    <tr style="border-bottom:1px solid #ddd;">
                        <td style="padding:10px;">{{ r.reminder_type.capitalize() }}</td>
                        <td style="padding:10px;">{{ r.formatted_time }}</td>
                        <td style="padding:10px; text-align:center;">
                            <form method="POST"
                                  action="{{ url_for('delete_reminder', reminder_id=r.id) }}"
                                  onsubmit="return confirm('Are you sure you want to delete this reminder?');">
                                <button type="submit"
                                        style="background:#dc3545; color:white; border:none;
                                               padding:6px 12px; border-radius:6px;
                                               cursor:pointer;">
                                    Delete
                                </button>
                            </form>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p style="text-align:center; margin-top:20px; color:#777;">No reminders found.</p>
    {% endif %}

    <a href="{{ url_for('reminder') }}"
       style="display:inline-block; margin-top:25px;
              padding:10px 16px; 
              background: linear-gradient(135deg,#4facfe,#00c6ff);
              color:white; border-radius:8px; text-decoration:none; font-weight:500;
              box-shadow:0 6px 14px rgba(0,0,0,0.15); transition: all 0.25s ease;"
       onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 8px 18px rgba(0,0,0,0.25)';"
       onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 6px 14px rgba(0,0,0,0.15)';"
       onmousedown="this.style.transform='scale(0.96)';"
       onmouseup="this.style.transform='translateY(-3px)';"
    >
       â† Back to Reminder
    </a>
</div>
{% endblock %}
